(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[1],{4:function(e,t,n){"use strict";n.d(t,"h",(function(){return c})),n.d(t,"j",(function(){return a})),n.d(t,"i",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"k",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return u})),n.d(t,"m",(function(){return m})),n.d(t,"d",(function(){return d})),n.d(t,"n",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"l",(function(){return O}));var c=n.p+"static/media/jhome.c8a87dbe.svg",a=n.p+"static/media/jsource.a6e65e41.svg",r=n.p+"static/media/jinfo.ef2dd25a.svg",i=(n.p,n.p+"static/media/jcalendar.20f487ea.svg"),o=n.p+"static/media/jworkspace.647e4964.svg",s=n.p+"static/media/jeducation.29ef7257.svg",l=n.p+"static/media/janalyst.7f4e2b2f.svg",j=n.p+"static/media/burger.f4b7c9b0.svg",u=n.p+"static/media/chat.a8056f1a.svg",m=n.p+"static/media/logout.cf1f200b.svg",b=n.p+"static/media/mail.24b0ce7e.svg",d=n.p+"static/media/help.151c4a64.svg",p=n.p+"static/media/folderPlus.f84b20a6.svg",O=n.p+"static/media/lChart.e675d336.svg"},46:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(29),i=n.n(r),o=n(2),s=n(30),l=n(31),j=n(35),u=n(34),m=n(10),b=n(3),d=n(18),p={get isAuthenticated(){return!!localStorage.access},get role(){return localStorage.role},authenticate:function(e,t){localStorage.setItem("role",t),localStorage.setItem("access",e)},signout:function(){localStorage.removeItem("role"),localStorage.removeItem("access"),window.location.replace("/")}},O="journalist",h="source",f=n(0),x=function(e){var t=e.component,n=e.restricted,c=Object(d.a)(e,["component","restricted"]);return Object(f.jsx)(b.b,Object(o.a)(Object(o.a)({},c),{},{render:function(e){return p.isAuthenticated&&n?Object(f.jsx)(b.a,{to:"/home"}):Object(f.jsx)(t,Object(o.a)({},e))}}))},g=function(e){var t=e.component,n=Object(d.a)(e,["component"]);return Object(f.jsx)(b.b,Object(o.a)(Object(o.a)({},n),{},{render:function(e){return p.isAuthenticated?Object(f.jsx)(t,Object(o.a)(Object(o.a)({},e),{},{logOut:n.logOut})):Object(f.jsx)(b.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},v=[{path:"/",exact:!0,name:"Home"},{path:"/dashboard",name:"Dashboard",component:function(){return Object(f.jsx)("div",{children:"Bla"})}}],y=(n(46),n(5)),N=n(15),k=n.n(N),S=n(33),w=n(8),C=n.p+"static/media/woman.7f12aab3.png",z=n.p+"static/media/b-logo.440ab39a.png",D=n(11),A=n.n(D),B={firstname:"",lastname:"",position:"",organization:""},F=function(e){var t=e.loginData,n=Object(c.useState)(B),a=Object(w.a)(n,2),r=a[0],i=a[1],s=Object(c.useState)(null),l=Object(w.a)(s,2),j=l[0],u=l[1],m=Object(c.useState)(!1),b=Object(w.a)(m,2),d=b[0],p=b[1],O=Object(c.useState)({token:"",role:""}),h=Object(w.a)(O,2),x=h[0],g=h[1],v=function(e){e.preventDefault(),console.log({loginData:t,profile:r}),A.a.post("/api/user/register/journalist",{loginData:t,profile:r}).then((function(e){var t=e.data;(t.status="amjilttai")&&(console.log(t),g({token:t.result.token,role:t.result.user.role}),N(t.result.token))})).catch((function(e){alert("please check your internet connection")}))},N=function(e){var t=new FormData;t.append("file",j,j.name),A.a.post("/api/user/upload/profile",t,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){(e.data.status="amjilttai")&&p(!0)})).catch((function(e){return console.log(e)}))};return d?Object(f.jsx)(P,{token:x.token,role:x.role}):Object(f.jsx)("div",{className:"content",children:Object(f.jsxs)("div",{className:"c-login c-register",children:[Object(f.jsx)("img",{src:z,alt:"logo"}),Object(f.jsxs)("form",{onSubmit:v,autoComplete:"off",children:[Object(f.jsx)("input",{type:"text",placeholder:"\u041e\u0432\u043e\u0433",name:"lastname",value:r.lastname,onChange:function(e){var t=e.target;return i(Object(o.a)(Object(o.a)({},r),{},Object(y.a)({},t.name,t.value)))}}),Object(f.jsx)("input",{type:"text",placeholder:"\u041d\u044d\u0440",name:"firstname",value:r.firstname,onChange:function(e){var t=e.target;return i(Object(o.a)(Object(o.a)({},r),{},Object(y.a)({},t.name,t.value)))}}),Object(f.jsx)("input",{type:"file",name:"profile_image",accept:"image/*",placeholder:"\u0417\u0443\u0440\u0430\u0433",onChange:function(e){u(e.target.files[0])}}),Object(f.jsx)("input",{type:"text",placeholder:"\u0411\u0430\u0439\u0433\u0443\u0443\u043b\u043b\u0430\u0433\u0430",name:"organization",value:r.organization,onChange:function(e){var t=e.target;return i(Object(o.a)(Object(o.a)({},r),{},Object(y.a)({},t.name,t.value)))}}),Object(f.jsx)("input",{type:"text",placeholder:"\u0410\u043b\u0431\u0430\u043d \u0442\u0443\u0448\u0430\u0430\u043b",name:"position",value:r.position,onChange:function(e){var t=e.target;return i(Object(o.a)(Object(o.a)({},r),{},Object(y.a)({},t.name,t.value)))}}),Object(f.jsx)("div",{className:"c-button",children:Object(f.jsx)("div",{className:"button",onClick:v,children:"\u04ae\u0440\u0433\u044d\u043b\u0436\u043b\u04af\u04af\u043b\u044d\u0445"})})]})]})})},P=function(e){var t=e.token,n=e.role,c=Object(b.g)();return Object(f.jsx)("div",{className:"content",children:Object(f.jsxs)("div",{className:"c-login c-register",children:[Object(f.jsx)("img",{src:z,alt:"logo"}),Object(f.jsxs)("div",{style:{display:"flex",marginTop:"25px",textAlign:"center",width:"80%",alignSelf:"center",flexDirection:"column"},children:[Object(f.jsxs)("p",{style:{fontFamily:"Montserrat",fontWeight:"normal",fontSize:"27px",textAlign:"center",color:"#fff"},children:["\u0411\u04af\u0440\u0442\u0433\u044d\u043b \u0430\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0438\u0439\u0433\u0434\u043b\u044d\u044d.",Object(f.jsx)("br",{}),"\u0422\u0430\u043d\u0434 \u0431\u0430\u044f\u0440\u043b\u0430\u043b\u0430\u0430"]}),Object(f.jsx)("div",{className:"c-button",style:{marginTop:"60px",marginBottom:"40px"},children:Object(f.jsx)("div",{className:"button",onClick:function(e){e.preventDefault(),p.authenticate(t,n),c.push("/user")},children:"\u04ae\u0440\u0433\u044d\u043b\u0436\u043b\u04af\u04af\u043b\u044d\u0445"})})]})]})})},T=function(e){var t=e.setScreen,n=Object(c.useState)({role:"",username:"",name:"",password:"",email:""}),a=Object(w.a)(n,2),r=a[0],i=a[1],s=Object(c.useState)(!1),l=Object(w.a)(s,2),j=l[0],u=l[1],m=function(){u(!0)};return j?"journalist"===r.role?Object(f.jsx)(F,{loginData:r,nextStep:function(){t("login")}}):Object(f.jsx)("div",{className:"content",children:Object(f.jsxs)("div",{className:"c-login c-register",children:[Object(f.jsx)("img",{src:z,alt:"logo"}),Object(f.jsxs)("div",{style:{display:"flex",marginTop:"25px",textAlign:"center",width:"80%",alignSelf:"center",flexDirection:"column"},children:[Object(f.jsx)("p",{style:{fontFamily:"Montserrat",fontWeight:"normal",fontSize:"27px",textAlign:"center",color:"#fff"},children:"Developing..."}),Object(f.jsx)("div",{className:"c-button",style:{marginTop:"60px",marginBottom:"40px"},children:Object(f.jsx)("div",{className:"button",onClick:function(e){e.preventDefault(),u(!1)},children:"\u0411\u0443\u0446\u0430\u0445"})})]})]})}):Object(f.jsx)("div",{className:"content",children:Object(f.jsxs)("div",{className:"c-login c-register",children:[Object(f.jsx)("img",{src:z,alt:"logo"}),Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m()},autoComplete:"off",children:[Object(f.jsx)("input",{type:"text",placeholder:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445 \u043d\u044d\u0440",name:"username",value:r.username,onChange:function(e){var t=e.target;return i(Object(o.a)(Object(o.a)({},r),{},Object(y.a)({},t.name,t.value)))}}),Object(f.jsx)("input",{type:"text",placeholder:"E-mail",name:"email",value:r.email,onChange:function(e){var t=e.target;return i(Object(o.a)(Object(o.a)({},r),{},Object(y.a)({},t.name,t.value)))}}),Object(f.jsx)("input",{type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433",name:"password",value:r.password,onChange:function(e){var t=e.target;return i(Object(o.a)(Object(o.a)({},r),{},Object(y.a)({},t.name,t.value)))}}),Object(f.jsxs)("select",{name:"role",value:r.role,onChange:function(e){var t=e.target;return i(Object(o.a)(Object(o.a)({},r),{},Object(y.a)({},t.name,t.value)))},children:[Object(f.jsx)("option",{value:"",children:"-"}),Object(f.jsx)("option",{value:"journalist",children:"\u0421\u044d\u0442\u0433\u04af\u04af\u043b\u0447"}),Object(f.jsx)("option",{value:"checker",children:"\u0411\u0430\u0440\u0438\u043c\u0442 \u0448\u0430\u043b\u0433\u0430\u0433\u0447"}),Object(f.jsx)("option",{value:"source",children:"\u042d\u0445 \u0441\u0443\u0440\u0432\u0430\u043b\u0436"})]}),Object(f.jsx)("div",{className:"c-button",children:Object(f.jsx)("div",{className:"button",onClick:function(e){e.preventDefault(),m()},children:"\u04ae\u0440\u0433\u044d\u043b\u0436\u043b\u04af\u04af\u043b\u044d\u0445"})})]})]})})},I=function(){var e=Object(b.g)(),t=Object(c.useState)({username:"",password:""}),n=Object(w.a)(t,2),a=n[0],r=n[1],i=function(){var t=Object(S.a)(k.a.mark((function t(n){var c,r,i;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c={username:a.username,password:a.password},t.prev=2,t.next=5,A.a.post("/api/user/login",c);case 5:return r=t.sent,t.next=8,r.data;case 8:"amjilttai"===(i=t.sent).status?(p.authenticate(i.result.token,i.result.user.role),e.push("/user")):alert("\u041d\u044d\u0432\u0442\u0440\u044d\u0445 \u043d\u044d\u0440 \u043d\u0443\u0443\u0446 \u04af\u0433 \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.error("Error:",t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"content",children:Object(f.jsxs)("div",{className:"c-login",children:[Object(f.jsx)("img",{src:z,alt:"logo"}),Object(f.jsx)("p",{className:"title",children:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"}),Object(f.jsxs)("form",{onSubmit:i,children:[Object(f.jsx)("input",{type:"text",placeholder:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445 \u043d\u044d\u0440",name:"username",value:a.username,onChange:function(e){var t=e.target;return r(Object(o.a)(Object(o.a)({},a),{},Object(y.a)({},t.name,t.value)))}}),Object(f.jsx)("input",{type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433",name:"password",value:a.password,onChange:function(e){var t=e.target;return r(Object(o.a)(Object(o.a)({},a),{},Object(y.a)({},t.name,t.value)))}}),Object(f.jsx)("input",{type:"submit",value:"nevtreh",style:{display:"none"}}),Object(f.jsx)("p",{children:"\u041d\u0443\u0443\u0446 \u04af\u0433 \u043c\u0430\u0440\u0442\u0441\u0430\u043d"}),Object(f.jsx)("div",{className:"c-button",style:{marginTop:"60px",marginBottom:"40px"},children:Object(f.jsx)("div",{className:"button",onClick:i,children:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"})})]})]})})},L=function(){return Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("div",{className:"img",children:Object(f.jsx)("img",{src:C,alt:"woman"})}),Object(f.jsx)("div",{className:"img",children:Object(f.jsx)("img",{src:z,alt:"logo"})})]})},E=function(){var e=Object(c.useState)("home"),t=Object(w.a)(e,2),n=t[0],a=t[1];return Object(f.jsx)("div",{className:"home-wrapper",children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"t-menu",children:Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{onClick:function(){return a("login")},children:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"}),Object(f.jsx)("li",{onClick:function(){return a("register")},children:"\u0411\u04af\u0440\u0442\u0433\u04af\u04af\u043b\u044d\u0445"})]})}),"login"===n?Object(f.jsx)(I,{}):"register"===n?Object(f.jsx)(T,{setScreen:a}):Object(f.jsx)(L,{}),Object(f.jsx)("div",{className:"f-menu-c",children:Object(f.jsx)("div",{className:"f-menu",children:Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"\u0413\u0438\u0448\u04af\u04af\u043d\u0447\u043b\u044d\u043b"}),Object(f.jsx)("li",{children:"\u0425\u043e\u043b\u0431\u043e\u043e \u0431\u0430\u0440\u0438\u0445"}),Object(f.jsx)("li",{children:"\u0422\u04af\u0433\u044d\u044d\u043c\u044d\u043b \u0430\u0441\u0443\u0443\u043b\u0442\u0443\u0443\u0434"}),Object(f.jsx)("li",{children:"\u0411\u0438\u0434\u043d\u0438\u0439 \u0442\u0443\u0445\u0430\u0439"})]})})})]})})},M=n(4),J=[{path:"/",exact:!0,name:"home"},{path:"/home",name:"jhome",component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(10),n.e(5)]).then(n.bind(null,112))}))},{path:"/jsource",name:"jhome",component:a.a.lazy((function(){return n.e(14).then(n.bind(null,100))}))},{path:"/jinfo",name:"jhome",component:a.a.lazy((function(){return n.e(6).then(n.bind(null,101))}))},{path:"/jprofile",name:"jhome",component:a.a.lazy((function(){return n.e(13).then(n.bind(null,102))}))},{path:"/jcalendar",name:"jhome",component:a.a.lazy((function(){return n.e(4).then(n.bind(null,103))}))},{path:"/jworkspace",name:"jhome",component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,104))}))},{path:"/jeducation",name:"jhome",component:a.a.lazy((function(){return n.e(12).then(n.bind(null,105))}))},{path:"/janalyst",name:"jhome",component:a.a.lazy((function(){return n.e(11).then(n.bind(null,106))}))}],W=[{name:"\u041c\u0438\u043d\u0438\u0439 \u0431\u0443\u043b\u0430\u043d",to:"/home",icon:M.h},{name:"\u042d\u0445 \u0441\u0443\u0440\u0432\u0430\u043b\u0436",to:"/jsource",icon:M.j},{name:"\u0421\u0443\u0443\u0440\u044c \u043c\u044d\u0434\u044d\u044d\u043b\u044d\u043b",to:"/jinfo",icon:M.i},{name:"\u0410\u0436\u0438\u0433\u043b\u0430\u043b\u0442\u044b\u043d \u0436\u0430\u0433\u0441\u0430\u0430\u043b\u0442",to:"/jcalendar",icon:M.f},{name:"\u0410\u0436\u043b\u044b\u043d \u0442\u0430\u043b\u0431\u0430\u0440",to:"/jworkspace",icon:M.k},{name:"\u0421\u0443\u0440\u0433\u0430\u043b\u0442 \u0445\u04e9\u0433\u0436\u0438\u043b",to:"/jeducation",icon:M.g},{name:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a",to:"/janalyst",icon:M.e}],H=[{path:"/",exact:!0,name:"home"},{path:"/home",name:"home",component:a.a.lazy((function(){return n.e(9).then(n.bind(null,107))}))},{path:"/fact",name:"fact",component:a.a.lazy((function(){return n.e(8).then(n.bind(null,108))}))},{path:"/news",name:"fact",component:a.a.lazy((function(){return n.e(15).then(n.bind(null,109))}))},{path:"/report",name:"fact",component:a.a.lazy((function(){return n.e(16).then(n.bind(null,110))}))}],_=[{name:"\u0421\u044d\u0442\u0433\u04af\u04af\u043b\u0447\u0434\u0438\u0439\u043d \u043c\u044d\u0434\u044d\u044d\u043b\u044d\u043b",to:"/home",icon:M.h},{name:"\u0411\u0430\u0440\u0438\u043c\u0442, \u043c\u044d\u0434\u044d\u044d\u043b\u044d\u043b \u04e9\u0433\u04e9\u0445",to:"/fact",icon:M.i},{name:"\u0428\u0438\u043d\u044d \u043c\u044d\u0434\u044d\u044d \u043c\u044d\u0434\u044d\u044d\u043b\u044d\u043b",to:"/news",icon:M.c},{name:"\u0422\u0430\u0439\u043b\u0430\u043d",to:"/report",icon:M.l}],q=Object(f.jsx)("div",{className:"pt-3 text-center",children:Object(f.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),G=function(){return Object(f.jsx)("main",{className:"c-main",children:Object(f.jsx)(c.Suspense,{fallback:q,children:Object(f.jsxs)(b.d,{children:[function(){switch(p.role){case O:return J.map((function(e,t){return e.component&&Object(f.jsx)(b.b,{path:e.path,exact:e.exact,name:e.name,render:function(t){return Object(f.jsx)(e.component,Object(o.a)({},t))}},t)}));case h:return H.map((function(e,t){return e.component&&Object(f.jsx)(b.b,{path:e.path,exact:e.exact,name:e.name,render:function(t){return Object(f.jsx)(e.component,Object(o.a)({},t))}},t)}));default:return v.map((function(e,t){return e.component&&Object(f.jsx)(b.b,{path:e.path,exact:e.exact,name:e.name,render:function(t){return Object(f.jsx)(e.component,Object(o.a)({},t))}},t)}))}}(),Object(f.jsx)(b.a,{from:"/",to:"/home"})]})})})},K=a.a.memo(G),Q=a.a.createContext(),R=function(e){var t=e.children,n=Object(c.useState)(!0),a=Object(w.a)(n,2),r=a[0],i=a[1];return Object(f.jsx)(Q.Provider,{value:{isSidebarOpen:r,showSidebar:function(){i(!0)},closeSidebar:function(){i(!1)},toggleSidebar:function(e){i(!r)}},children:t})},U=function(){return Object(c.useContext)(Q)},V=function(){var e=U().toggleSidebar;return Object(f.jsxs)("div",{className:"navbar",children:[Object(f.jsx)("img",{className:"burger",src:M.a,onClick:function(){return e()},alt:"burger"}),Object(f.jsxs)("div",{className:"icons",children:[Object(f.jsx)("img",{src:M.n,alt:"mail"}),Object(f.jsx)("img",{src:M.d,alt:"help"}),Object(f.jsx)("img",{src:M.m,alt:"logout",onClick:function(){return p.signout()}})]})]})},X=function(){var e=U().isSidebarOpen,t=Object(b.h)().pathname,n=Object(b.g)();return Object(f.jsxs)("div",{className:"sidebar ".concat(e?"":"closed"),children:[Object(f.jsx)("img",{className:"logo",src:z,alt:"slogo"}),function(){switch(p.role){case O:return Object(f.jsx)("ul",{children:W.map((function(e,c){return Object(f.jsxs)("li",{className:t===e.to?"active":"",onClick:function(){return n.push(e.to)},children:[Object(f.jsx)("div",{className:"icon",children:Object(f.jsx)("img",{src:e.icon,alt:"jmenu-icon"+c})}),Object(f.jsxs)("p",{children:[e.name," "]})]},"jmenu"+c)}))});case h:return Object(f.jsx)("ul",{children:_.map((function(e,c){return Object(f.jsxs)("li",{className:t===e.to?"active":"",onClick:function(){return n.push(e.to)},children:[Object(f.jsx)("div",{className:"icon",children:Object(f.jsx)("img",{src:e.icon,alt:"jmenu-icon"+c})}),Object(f.jsxs)("p",{children:[e.name," "]})]},"jmenu"+c)}))});default:return Object(f.jsx)("ul",{children:Object(f.jsx)("li",{children:Object(f.jsx)("p",{children:"Developing..."})})})}}()]})},Y=function(){return Object(f.jsxs)("div",{className:"app",children:[Object(f.jsx)(X,{}),Object(f.jsxs)("div",{className:"wrapper",children:[Object(f.jsx)(V,{}),Object(f.jsx)("div",{className:"c-body",children:Object(f.jsx)(K,{})})]})]})},Z=Object(f.jsx)("div",{children:"Loading ..."}),$=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(f.jsx)(m.a,{children:Object(f.jsx)(a.a.Suspense,{fallback:Z,children:Object(f.jsxs)(b.d,{children:[Object(f.jsx)(x,{restricted:!0,exact:!0,path:"/login",name:"Login Page",component:function(e){return Object(f.jsx)(E,Object(o.a)({},e))}}),Object(f.jsx)(g,{path:"/",component:function(e){return Object(f.jsx)(Y,Object(o.a)({},e))}})]})})})}}]),n}(c.Component),ee=function(e){e&&e instanceof Function&&n.e(17).then(n.bind(null,111)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(R,{children:Object(f.jsx)($,{})})}),document.getElementById("root")),ee()}},[[66,2,3]]]);
//# sourceMappingURL=main.ee0abc77.chunk.js.map