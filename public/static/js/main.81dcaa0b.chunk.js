(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{4:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"j",(function(){return a})),n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"k",(function(){return o})),n.d(t,"f",(function(){return j})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b})),n.d(t,"l",(function(){return m})),n.d(t,"c",(function(){return O})),n.d(t,"m",(function(){return d}));var c=n.p+"static/media/jhome.c8a87dbe.svg",a=n.p+"static/media/jsource.a6e65e41.svg",r=n.p+"static/media/jinfo.ef2dd25a.svg",s=n.p+"static/media/jprofile.9e12e039.svg",i=n.p+"static/media/jcalendar.20f487ea.svg",o=n.p+"static/media/jworkspace.647e4964.svg",j=n.p+"static/media/jeducation.29ef7257.svg",l=n.p+"static/media/janalyst.7f4e2b2f.svg",u=n.p+"static/media/burger.f4b7c9b0.svg",b=n.p+"static/media/chat.a8056f1a.svg",m=n.p+"static/media/logout.cf1f200b.svg",d=n.p+"static/media/mail.24b0ce7e.svg",O=n.p+"static/media/help.151c4a64.svg"},46:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(29),s=n.n(r),i=n(2),o=n(30),j=n(31),l=n(35),u=n(34),b=n(9),m=n(3),d=n(18),O={get isAuthenticated(){return!!localStorage.access},get role(){return localStorage.role},authenticate:function(e,t){localStorage.setItem("role",t),localStorage.setItem("access",e)},signout:function(){localStorage.removeItem("role"),localStorage.removeItem("access"),window.location.reload()}},p="journalist",h=n(0),x=function(e){var t=e.component,n=e.restricted,c=Object(d.a)(e,["component","restricted"]);return Object(h.jsx)(m.b,Object(i.a)(Object(i.a)({},c),{},{render:function(e){return O.isAuthenticated&&n?Object(h.jsx)(m.a,{to:"/user"}):Object(h.jsx)(t,Object(i.a)({},e))}}))},f=function(e){var t=e.component,n=Object(d.a)(e,["component"]);return Object(h.jsx)(m.b,Object(i.a)(Object(i.a)({},n),{},{render:function(e){return O.isAuthenticated?Object(h.jsx)(t,Object(i.a)(Object(i.a)({},e),{},{logOut:n.logOut})):Object(h.jsx)(m.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},g=[{path:"/",exact:!0,name:"Home"},{path:"/dashboard",name:"Dashboard",component:function(){return Object(h.jsx)("div",{children:"Bla"})}}],v=(n(46),n(8)),N=n(16),w=n.n(N),y=n(33),k=n(10),S=n.p+"static/media/woman.7f12aab3.png",C=n.p+"static/media/b-logo.440ab39a.png",z=n(17),I=n.n(z),P=function(){var e=Object(m.g)(),t=Object(c.useState)({username:"",password:""}),n=Object(k.a)(t,2),a=n[0],r=n[1],s=function(){var t=Object(y.a)(w.a.mark((function t(n){var c,r,s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c={username:a.username,password:a.password},t.prev=2,t.next=5,I.a.post("/api/user/login",c);case 5:return r=t.sent,t.next=8,r.data;case 8:s=t.sent,console.log(s),"amjilttai"===s.status?(O.authenticate(s.result.token,s.result.user.role),e.push("/user")):alert("\u041d\u044d\u0432\u0442\u0440\u044d\u0445 \u043d\u044d\u0440 \u043d\u0443\u0443\u0446 \u04af\u0433 \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),console.error("Error:",t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"content",children:Object(h.jsxs)("div",{className:"c-login",children:[Object(h.jsx)("img",{src:C,alt:"logo"}),Object(h.jsx)("p",{className:"title",children:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"}),Object(h.jsxs)("form",{onSubmit:s,children:[Object(h.jsx)("input",{type:"text",placeholder:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445 \u043d\u044d\u0440",name:"username",value:a.username,onChange:function(e){var t=e.target;return r(Object(i.a)(Object(i.a)({},a),{},Object(v.a)({},t.name,t.value)))}}),Object(h.jsx)("input",{type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433",name:"password",value:a.password,onChange:function(e){var t=e.target;return r(Object(i.a)(Object(i.a)({},a),{},Object(v.a)({},t.name,t.value)))}}),Object(h.jsx)("p",{children:"\u041d\u0443\u0443\u0446 \u04af\u0433 \u043c\u0430\u0440\u0442\u0441\u0430\u043d"}),Object(h.jsx)("input",{className:"button",type:"submit",value:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"})]})]})})},D=function(){var e={role:"",username:"",name:"",password:"",email:""},t=Object(c.useState)(e),n=Object(k.a)(t,2),a=n[0],r=n[1];return Object(h.jsx)("div",{className:"content",children:Object(h.jsxs)("div",{className:"c-login",children:[Object(h.jsx)("img",{src:C,alt:"logo"}),Object(h.jsx)("p",{className:"title",children:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"}),Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),I.a.post("/api/user/register",a).then((function(t){(t.data.status="amjilttai")&&(r(e),alert("success"))})).catch((function(e){alert("please check your internet connection")}))},children:[Object(h.jsx)("input",{type:"text",placeholder:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445 \u043d\u044d\u0440",name:"username",value:a.username,onChange:function(e){var t=e.target;return r(Object(i.a)(Object(i.a)({},a),{},Object(v.a)({},t.name,t.value)))}}),Object(h.jsx)("input",{type:"text",placeholder:"E-mail",name:"email",value:a.email,onChange:function(e){var t=e.target;return r(Object(i.a)(Object(i.a)({},a),{},Object(v.a)({},t.name,t.value)))}}),Object(h.jsx)("input",{type:"text",placeholder:"Name",name:"name",value:a.name,onChange:function(e){var t=e.target;return r(Object(i.a)(Object(i.a)({},a),{},Object(v.a)({},t.name,t.value)))}}),Object(h.jsx)("input",{type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433",name:"password",value:a.password,onChange:function(e){var t=e.target;return r(Object(i.a)(Object(i.a)({},a),{},Object(v.a)({},t.name,t.value)))}}),Object(h.jsxs)("select",{name:"role",value:a.role,onChange:function(e){var t=e.target;return r(Object(i.a)(Object(i.a)({},a),{},Object(v.a)({},t.name,t.value)))},children:[Object(h.jsx)("option",{value:"",children:"-"}),Object(h.jsx)("option",{value:"journalist",children:"\u0421\u044d\u0442\u0433\u04af\u04af\u043b\u0447"}),Object(h.jsx)("option",{value:"checker",children:"\u0411\u0430\u0440\u0438\u043c\u0442 \u0448\u0430\u043b\u0433\u0430\u0433\u0447"}),Object(h.jsx)("option",{value:"source",children:"\u042d\u0445 \u0441\u0443\u0440\u0432\u0430\u043b\u0436"})]}),Object(h.jsx)("input",{type:"submit",value:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"})]})]})})},F=function(){return Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)("div",{className:"img",children:Object(h.jsx)("img",{src:S,alt:"woman"})}),Object(h.jsx)("div",{className:"img",children:Object(h.jsx)("img",{src:C,alt:"logo"})})]})},A=function(){var e=Object(c.useState)("home"),t=Object(k.a)(e,2),n=t[0],a=t[1];return Object(h.jsx)("div",{className:"home-wrapper",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("div",{className:"t-menu",children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{onClick:function(){return a("login")},children:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"}),Object(h.jsx)("li",{onClick:function(){return a("register")},children:"\u0411\u04af\u0440\u0442\u0433\u04af\u04af\u043b\u044d\u0445"})]})}),"login"===n?Object(h.jsx)(P,{}):"register"===n?Object(h.jsx)(D,{}):Object(h.jsx)(F,{}),Object(h.jsx)("div",{className:"f-menu-c",children:Object(h.jsx)("div",{className:"f-menu",children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"\u0413\u0438\u0448\u04af\u04af\u043d\u0447\u043b\u044d\u043b"}),Object(h.jsx)("li",{children:"\u0425\u043e\u043b\u0431\u043e\u043e \u0431\u0430\u0440\u0438\u0445"}),Object(h.jsx)("li",{children:"\u0422\u04af\u0433\u044d\u044d\u043c\u044d\u043b \u0430\u0441\u0443\u0443\u043b\u0442\u0443\u0443\u0434"}),Object(h.jsx)("li",{children:"\u0411\u0438\u0434\u043d\u0438\u0439 \u0442\u0443\u0445\u0430\u0439"})]})})})]})})},B=n(4),E=[{path:"/",exact:!0,name:"home"},{path:"/jhome",name:"jhome",component:a.a.lazy((function(){return n.e(4).then(n.bind(null,76))}))},{path:"/jsource",name:"jhome",component:a.a.lazy((function(){return n.e(9).then(n.bind(null,68))}))},{path:"/jinfo",name:"jhome",component:a.a.lazy((function(){return n.e(5).then(n.bind(null,69))}))},{path:"/jprofile",name:"jhome",component:a.a.lazy((function(){return n.e(8).then(n.bind(null,70))}))},{path:"/jcalendar",name:"jhome",component:a.a.lazy((function(){return n.e(3).then(n.bind(null,71))}))},{path:"/jworkspace",name:"jhome",component:a.a.lazy((function(){return n.e(10).then(n.bind(null,72))}))},{path:"/jeducation",name:"jhome",component:a.a.lazy((function(){return n.e(7).then(n.bind(null,73))}))},{path:"/janalyst",name:"jhome",component:a.a.lazy((function(){return n.e(6).then(n.bind(null,74))}))}],L=[{name:"\u0421\u044d\u0442\u0433\u04af\u04af\u043b\u0447",to:"/jhome",icon:B.g},{name:"\u042d\u0445 \u0441\u0443\u0440\u0432\u0430\u043b\u0436",to:"/jsource",icon:B.j},{name:"\u0421\u0443\u0443\u0440\u044c \u043c\u044d\u0434\u044d\u044d\u043b\u044d\u043b",to:"/jinfo",icon:B.h},{name:"\u041c\u0438\u043d\u0438\u0439 \u0431\u0443\u043b\u0430\u043d",to:"/jprofile",icon:B.i},{name:"\u0410\u0436\u0438\u0433\u043b\u0430\u043b\u0442\u044b\u043d \u0436\u0430\u0433\u0441\u0430\u0430\u043b\u0442",to:"/jcalendar",icon:B.e},{name:"\u0410\u0436\u043b\u044b\u043d \u0442\u0430\u043b\u0431\u0430\u0440",to:"/jworkspace",icon:B.k},{name:"\u0421\u0443\u0440\u0433\u0430\u043b\u0442 \u0445\u04e9\u0433\u0436\u0438\u043b",to:"/jeducation",icon:B.f},{name:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a",to:"/janalyst",icon:B.d}],J=Object(h.jsx)("div",{className:"pt-3 text-center",children:Object(h.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),T=function(){return Object(h.jsx)("main",{className:"c-main",children:Object(h.jsx)(c.Suspense,{fallback:J,children:Object(h.jsxs)(m.d,{children:[function(){switch(O.role){case p:return E.map((function(e,t){return e.component&&Object(h.jsx)(m.b,{path:e.path,exact:e.exact,name:e.name,render:function(t){return Object(h.jsx)(e.component,Object(i.a)({},t))}},t)}));default:return g.map((function(e,t){return e.component&&Object(h.jsx)(m.b,{path:e.path,exact:e.exact,name:e.name,render:function(t){return Object(h.jsx)(e.component,Object(i.a)({},t))}},t)}))}}(),(O.role,Object(h.jsx)(m.a,{from:"/",to:"/jhome"}))]})})})},H=a.a.memo(T),M=a.a.createContext(),R=function(e){var t=e.children,n=Object(c.useState)(!0),a=Object(k.a)(n,2),r=a[0],s=a[1];return Object(h.jsx)(M.Provider,{value:{isSidebarOpen:r,showSidebar:function(){s(!0)},closeSidebar:function(){s(!1)},toggleSidebar:function(e){s(!r)}},children:t})},q=function(){return Object(c.useContext)(M)},G=function(){var e=q().toggleSidebar;return Object(h.jsxs)("div",{className:"navbar",children:[Object(h.jsx)("img",{className:"burger",src:B.a,onClick:function(){return e()}}),Object(h.jsxs)("div",{className:"icons",children:[Object(h.jsx)("img",{src:B.m,alt:"mail"}),Object(h.jsx)("img",{src:B.c,alt:"help"}),Object(h.jsx)("img",{src:B.l,alt:"logout",onClick:function(){return O.signout()}})]})]})},K=function(){var e=q().isSidebarOpen,t=Object(m.h)().pathname,n=Object(m.g)();console.log(t);return Object(h.jsxs)("div",{className:"sidebar ".concat(e?"":"closed"),children:[Object(h.jsx)("img",{className:"logo",src:C,alt:"slogo"}),function(){switch(O.role){case p:return Object(h.jsx)("ul",{children:L.map((function(e,c){return Object(h.jsxs)("li",{className:t===e.to?"active":"",onClick:function(){return n.push(e.to)},children:[Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)("img",{src:e.icon,alt:"jmenu-icon"+c})}),Object(h.jsxs)("p",{children:[e.name," "]})]},"jmenu"+c)}))});default:return Object(h.jsx)("ul",{children:Object(h.jsx)("li",{children:"not role"})})}}()]})},Q=function(){return Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)(K,{}),Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)(G,{}),Object(h.jsx)("div",{className:"c-body",children:Object(h.jsx)(H,{})})]})]})},U=Object(h.jsx)("div",{className:"pt-3 text-center",children:Object(h.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),V=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(h.jsx)(b.a,{children:Object(h.jsx)(a.a.Suspense,{fallback:U,children:Object(h.jsxs)(m.d,{children:[Object(h.jsx)(x,{restricted:!0,exact:!0,path:"/login",name:"Login Page",component:function(e){return Object(h.jsx)(A,Object(i.a)({},e))}}),Object(h.jsx)(m.b,{exact:!0,path:"/register",name:"Register Page",render:function(e){return Object(h.jsx)(A,Object(i.a)({},e))}}),Object(h.jsx)(f,{path:"/",component:function(e){return Object(h.jsx)(Q,Object(i.a)({},e))}})]})})})}}]),n}(c.Component),W=function(e){e&&e instanceof Function&&n.e(11).then(n.bind(null,75)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(R,{children:Object(h.jsx)(V,{})})}),document.getElementById("root")),W()}},[[66,1,2]]]);
//# sourceMappingURL=main.81dcaa0b.chunk.js.map