(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{45:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(28),r=n.n(s),i=n(2),o=n(29),j=n(30),l=n(34),u=n(33),b=n(9),d=n(3),m=n(17),O={get isAuthenticated(){return!!sessionStorage.access},get role(){return sessionStorage.role},authenticate:function(e,t){sessionStorage.setItem("role",t),sessionStorage.setItem("access",e)},signout:function(){sessionStorage.removeItem("role"),sessionStorage.removeItem("access"),window.location.reload()}},p="journalist",x=n(0),h=function(e){var t=e.component,n=e.restricted,c=Object(m.a)(e,["component","restricted"]);return Object(x.jsx)(d.b,Object(i.a)(Object(i.a)({},c),{},{render:function(e){return O.isAuthenticated&&n?Object(x.jsx)(d.a,{to:"/user"}):Object(x.jsx)(t,Object(i.a)({},e))}}))},v=function(e){var t=e.component,n=Object(m.a)(e,["component"]);return Object(x.jsx)(d.b,Object(i.a)(Object(i.a)({},n),{},{render:function(e){return O.isAuthenticated?Object(x.jsx)(t,Object(i.a)(Object(i.a)({},e),{},{logOut:n.logOut})):Object(x.jsx)(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},f=[{path:"/",exact:!0,name:"Home"},{path:"/dashboard",name:"Dashboard",component:function(){return Object(x.jsx)("div",{children:"Bla"})}}],g=(n(45),n(7)),N=n(15),w=n.n(N),S=n(32),k=n(8),y=n.p+"static/media/woman.7f12aab3.png",C=n.p+"static/media/b-logo.440ab39a.png",I=n(16),D=n.n(I),P=function(){var e=Object(d.g)(),t=Object(c.useState)({username:"",password:""}),n=Object(k.a)(t,2),a=n[0],s=n[1],r=function(){var t=Object(S.a)(w.a.mark((function t(n){var c,s,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c={username:a.username,password:a.password},t.prev=2,t.next=5,D.a.post("/api/user/login",c);case 5:return s=t.sent,t.next=8,s.data;case 8:r=t.sent,console.log(r),"amjilttai"===r.status?(O.authenticate(r.result.token,r.result.user.role),e.push("/user")):alert("\u041d\u044d\u0432\u0442\u0440\u044d\u0445 \u043d\u044d\u0440 \u043d\u0443\u0443\u0446 \u04af\u0433 \u0431\u0443\u0440\u0443\u0443 \u0431\u0430\u0439\u043d\u0430"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),console.error("Error:",t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"content",children:Object(x.jsxs)("div",{className:"c-login",children:[Object(x.jsx)("img",{src:C,alt:"logo"}),Object(x.jsx)("p",{className:"title",children:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"}),Object(x.jsxs)("form",{onSubmit:r,children:[Object(x.jsx)("input",{type:"text",placeholder:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445 \u043d\u044d\u0440",name:"username",value:a.username,onChange:function(e){var t=e.target;return s(Object(i.a)(Object(i.a)({},a),{},Object(g.a)({},t.name,t.value)))}}),Object(x.jsx)("input",{type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433",name:"password",value:a.password,onChange:function(e){var t=e.target;return s(Object(i.a)(Object(i.a)({},a),{},Object(g.a)({},t.name,t.value)))}}),Object(x.jsx)("p",{children:"\u041d\u0443\u0443\u0446 \u04af\u0433 \u043c\u0430\u0440\u0442\u0441\u0430\u043d"}),Object(x.jsx)("input",{className:"button",type:"submit",value:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"})]})]})})},F=function(){var e={role:"",username:"",name:"",password:"",email:""},t=Object(c.useState)(e),n=Object(k.a)(t,2),a=n[0],s=n[1];return Object(x.jsx)("div",{className:"content",children:Object(x.jsxs)("div",{className:"c-login",children:[Object(x.jsx)("img",{src:C,alt:"logo"}),Object(x.jsx)("p",{className:"title",children:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"}),Object(x.jsxs)("form",{onSubmit:function(t){t.preventDefault(),D.a.post("/api/user/register",a).then((function(t){(t.data.status="amjilttai")&&(s(e),alert("success"))})).catch((function(e){alert("please check your internet connection")}))},children:[Object(x.jsx)("input",{type:"text",placeholder:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445 \u043d\u044d\u0440",name:"username",value:a.username,onChange:function(e){var t=e.target;return s(Object(i.a)(Object(i.a)({},a),{},Object(g.a)({},t.name,t.value)))}}),Object(x.jsx)("input",{type:"text",placeholder:"E-mail",name:"email",value:a.email,onChange:function(e){var t=e.target;return s(Object(i.a)(Object(i.a)({},a),{},Object(g.a)({},t.name,t.value)))}}),Object(x.jsx)("input",{type:"text",placeholder:"Name",name:"name",value:a.name,onChange:function(e){var t=e.target;return s(Object(i.a)(Object(i.a)({},a),{},Object(g.a)({},t.name,t.value)))}}),Object(x.jsx)("input",{type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433",name:"password",value:a.password,onChange:function(e){var t=e.target;return s(Object(i.a)(Object(i.a)({},a),{},Object(g.a)({},t.name,t.value)))}}),Object(x.jsxs)("select",{name:"role",value:a.role,onChange:function(e){var t=e.target;return s(Object(i.a)(Object(i.a)({},a),{},Object(g.a)({},t.name,t.value)))},children:[Object(x.jsx)("option",{value:"",children:"-"}),Object(x.jsx)("option",{value:"journalist",children:"\u0421\u044d\u0442\u0433\u04af\u04af\u043b\u0447"}),Object(x.jsx)("option",{value:"checker",children:"\u0411\u0430\u0440\u0438\u043c\u0442 \u0448\u0430\u043b\u0433\u0430\u0433\u0447"}),Object(x.jsx)("option",{value:"source",children:"\u042d\u0445 \u0441\u0443\u0440\u0432\u0430\u043b\u0436"})]}),Object(x.jsx)("input",{type:"submit",value:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"})]})]})})},A=function(){return Object(x.jsxs)("div",{className:"content",children:[Object(x.jsx)("div",{className:"img",children:Object(x.jsx)("img",{src:y,alt:"woman"})}),Object(x.jsx)("div",{className:"img",children:Object(x.jsx)("img",{src:C,alt:"logo"})})]})},B=function(){var e=Object(c.useState)("home"),t=Object(k.a)(e,2),n=t[0],a=t[1];return Object(x.jsx)("div",{className:"home-wrapper",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("div",{className:"t-menu",children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{onClick:function(){return a("login")},children:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"}),Object(x.jsx)("li",{onClick:function(){return a("register")},children:"\u0411\u04af\u0440\u0442\u0433\u04af\u04af\u043b\u044d\u0445"})]})}),"login"===n?Object(x.jsx)(P,{}):"register"===n?Object(x.jsx)(F,{}):Object(x.jsx)(A,{}),Object(x.jsx)("div",{className:"f-menu-c",children:Object(x.jsx)("div",{className:"f-menu",children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:"\u0413\u0438\u0448\u04af\u04af\u043d\u0447\u043b\u044d\u043b"}),Object(x.jsx)("li",{children:"\u0425\u043e\u043b\u0431\u043e\u043e \u0431\u0430\u0440\u0438\u0445"}),Object(x.jsx)("li",{children:"\u0422\u04af\u0433\u044d\u044d\u043c\u044d\u043b \u0430\u0441\u0443\u0443\u043b\u0442\u0443\u0443\u0434"}),Object(x.jsx)("li",{children:"\u0411\u0438\u0434\u043d\u0438\u0439 \u0442\u0443\u0445\u0430\u0439"})]})})})]})})},E=n.p+"static/media/jhome.c8a87dbe.svg",L=n.p+"static/media/jsource.a6e65e41.svg",H=n.p+"static/media/jinfo.ef2dd25a.svg",J=n.p+"static/media/jprofile.9e12e039.svg",T=n.p+"static/media/jcalendar.20f487ea.svg",z=n.p+"static/media/jworkspace.647e4964.svg",M=n.p+"static/media/jeducation.29ef7257.svg",R=n.p+"static/media/janalyst.7f4e2b2f.svg",q=n.p+"static/media/burger.f4b7c9b0.svg",G=[{path:"/",exact:!0,name:"Home"},{path:"/dashboard",name:"Dashboard",component:a.a.lazy((function(){return n.e(3).then(n.bind(null,66))}))}],K=[{name:"\u0421\u044d\u0442\u0433\u04af\u04af\u043b\u0447",to:"/jhome",icon:E},{name:"\u042d\u0445 \u0441\u0443\u0440\u0432\u0430\u043b\u0436",to:"/jsource",icon:L},{name:"\u0421\u0443\u0443\u0440\u044c \u043c\u044d\u0434\u044d\u044d\u043b\u044d\u043b",to:"/jinfo",icon:H},{name:"\u041c\u0438\u043d\u0438\u0439 \u0431\u0443\u043b\u0430\u043d",to:"/jprofile",icon:J},{name:"\u0410\u0436\u0438\u0433\u043b\u0430\u043b\u0442\u044b\u043d \u0436\u0430\u0433\u0441\u0430\u0430\u043b\u0442",to:"/jcalendar",icon:T},{name:"\u0410\u0436\u043b\u044b\u043d \u0442\u0430\u043b\u0431\u0430\u0440",to:"/jworkspace",icon:z},{name:"\u0421\u0443\u0440\u0433\u0430\u043b\u0442 \u0445\u04e9\u0433\u0436\u0438\u043b",to:"/jeducation",icon:M},{name:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a",to:"/janalyst",icon:R}],Q=Object(x.jsx)("div",{className:"pt-3 text-center",children:Object(x.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),U=function(){return Object(x.jsx)("main",{className:"c-main",children:Object(x.jsx)(c.Suspense,{fallback:Q,children:Object(x.jsxs)(d.d,{children:[function(){switch(O.role){case p:return G.map((function(e,t){return e.component&&Object(x.jsx)(d.b,{path:e.path,exact:e.exact,name:e.name,render:function(t){return Object(x.jsx)(e.component,Object(i.a)({},t))}},t)}));default:return f.map((function(e,t){return e.component&&Object(x.jsx)(d.b,{path:e.path,exact:e.exact,name:e.name,render:function(t){return Object(x.jsx)(e.component,Object(i.a)({},t))}},t)}))}}(),Object(x.jsx)(d.a,{from:"/",to:"/dashboard"})]})})})},V=a.a.memo(U),W=a.a.createContext(),X=function(e){var t=e.children,n=Object(c.useState)(!0),a=Object(k.a)(n,2),s=a[0],r=a[1];return Object(x.jsx)(W.Provider,{value:{isSidebarOpen:s,showSidebar:function(){r(!0)},closeSidebar:function(){r(!1)},toggleSidebar:function(e){r(!s)}},children:t})},Y=function(){return Object(c.useContext)(W)},Z=function(){var e=Y().toggleSidebar;return Object(x.jsx)("div",{className:"navbar",children:Object(x.jsx)("img",{className:"burger",src:q,onClick:function(){return e()}})})},$=function(){var e=Y().isSidebarOpen;return Object(x.jsxs)("div",{className:"sidebar ".concat(e?"":"closed"),children:[Object(x.jsx)("img",{className:"logo",src:C,alt:"slogo"}),function(){switch(O.role){case p:return Object(x.jsx)("ul",{children:K.map((function(e,t){return Object(x.jsxs)("li",{className:0===t?"active":"",children:[Object(x.jsx)("div",{className:"icon",children:Object(x.jsx)("img",{src:e.icon,alt:"jmenu-icon"+t})}),Object(x.jsx)("p",{children:e.name})]},"jmenu"+t)}))});default:return Object(x.jsx)("ul",{children:Object(x.jsx)("li",{children:"not role"})})}}()]})},_=function(){return Object(x.jsxs)("div",{className:"app",children:[Object(x.jsx)($,{}),Object(x.jsxs)("div",{className:"wrapper",children:[Object(x.jsx)(Z,{}),Object(x.jsx)("div",{className:"c-body",children:Object(x.jsx)(V,{})})]})]})},ee=Object(x.jsx)("div",{className:"pt-3 text-center",children:Object(x.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),te=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(x.jsx)(b.a,{children:Object(x.jsx)(a.a.Suspense,{fallback:ee,children:Object(x.jsxs)(d.d,{children:[Object(x.jsx)(h,{restricted:!0,exact:!0,path:"/login",name:"Login Page",component:function(e){return Object(x.jsx)(B,Object(i.a)({},e))}}),Object(x.jsx)(d.b,{exact:!0,path:"/register",name:"Register Page",render:function(e){return Object(x.jsx)(B,Object(i.a)({},e))}}),Object(x.jsx)(v,{path:"/",component:function(e){return Object(x.jsx)(_,Object(i.a)({},e))}})]})})})}}]),n}(c.Component),ne=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,67)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(X,{children:Object(x.jsx)(te,{})})}),document.getElementById("root")),ne()}},[[65,1,2]]]);
//# sourceMappingURL=main.a40e3ef9.chunk.js.map