(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[7],{102:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return j}));var a=n(2),c=n(9),o=n(1),i=n(67),r=n(84),l=n(87),u=n.n(l),s=n(12),d=n.n(s),b=n(0),p=window.location.origin.toString();function j(){var t=Object(o.useState)({body:"",title:""}),e=Object(c.a)(t,2),n=e[0],a=e[1];return Object(b.jsxs)("div",{children:[Object(b.jsxs)(i.b,{style:{padding:"32.5px 42px"},children:[Object(b.jsx)("p",{style:{fontSize:"18px",color:"#212543",marginBottom:20},children:"\u041c\u044d\u0434\u044d\u044d \u043d\u044d\u043c\u044d\u0445"}),Object(b.jsx)(h,{onSubmit:function(t){return a(t)}})]}),Object(b.jsxs)(i.b,{style:{marginTop:10,padding:"32.5px 42px"},children:[Object(b.jsx)("h1",{children:n.title}),Object(b.jsx)("div",{className:"ck-content",dangerouslySetInnerHTML:{__html:n.body}})]})]})}var f={title:"",category:""},h=function(t){var e=t.onSubmit,n=Object(o.useState)(f),i=Object(c.a)(n,2),l=i[0],s=i[1],j=Object(o.useState)(""),h=Object(c.a)(j,2),g=h[0],x=h[1];return Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=localStorage.getItem("access");d.a.post("/api/news/",Object(a.a)(Object(a.a)({},l),{},{body:g}),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){"amjilttai"===t.data.status?(e(Object(a.a)(Object(a.a)({},l),{},{body:g})),s(f),x(""),alert("Amjilttai niitlegdlee")):alert("Please check internet connection")}))},style:{display:"flex",flexDirection:"column"},children:[Object(b.jsx)("input",{style:{marginBottom:"10px",padding:"10px 5px"},type:"text",placeholder:"\u0413\u0430\u0440\u0447\u0438\u0433",name:"title",value:l.title,onChange:function(t){return s(Object(a.a)(Object(a.a)({},l),{},{title:t.target.value}))}}),Object(b.jsx)("input",{style:{marginBottom:"10px",padding:"10px 5px"},type:"text",placeholder:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438",name:"category",value:l.category,onChange:function(t){var e=t.target;return s(Object(a.a)(Object(a.a)({},l),{},{category:e.value}))}}),Object(b.jsx)(r.CKEditor,{editor:u.a,data:g,config:{extraPlugins:[function(t){t.plugins.get("FileRepository").createUploadAdapter=function(t){return function(t){return{upload:function(){return new Promise((function(e,n){var a=new FormData;t.file.then((function(t){a.append("file",t),fetch("".concat(p,"/").concat("api/photos/upload"),{method:"post",body:a}).then((function(t){return t.json()})).then((function(t){e({default:"http://localhost:3001/news/image/".concat(t.filename)})})).catch((function(t){n(t)}))}))}))}}}(t)}}]},onChange:function(t,e){var n=e.getData();x(n)}}),Object(b.jsx)("button",{style:{cursor:"pointer",alignSelf:"flex-end",marginTop:20,background:"#d4938b",color:"#FFF",border:"none",padding:"5px 20px",borderRadius:5},type:"submit",children:"\u041d\u0438\u0439\u0442\u043b\u044d\u0445"})]})}},67:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(2),c=n(0),o=function(t){return Object(c.jsx)("div",Object(a.a)(Object(a.a)({},t),{},{children:t.children}))};e.b=function(t){return Object(c.jsx)("div",Object(a.a)(Object(a.a)({className:"card"},t),{},{children:t.children}))}}}]);
//# sourceMappingURL=7.8c22afb8.chunk.js.map